cmake_minimum_required(VERSION 3.0)

cmake_policy(SET CMP0076 NEW)

project(FRACTOL VERSION 1.0 LANGUAGES C)

#include_directories(.:libft:/usr/local/include)
find_library(OPEN_GL OpenGl)
find_library(APP_KIT AppKit)
link_libraries(mlx)

add_subdirectory(libft)
add_subdirectory(libcomp)

#set(${PROJECT_NAME}_INCLUDE_DIRS
#        ${PROJECT_SOURCE_DIR}/includes)

include_directories(
        includes
        libcomp/includes
        libft/inc
)

set(sources
        src/draw.c
        src/fractal_burning_ship.c
        src/fractal_julia.c
        src/fractal_mandelbrot.c
        src/init.c
        src/init_cl.c
        src/key_press.c
        src/main.c
        src/mouse.c
        src/struct.c src/resume_cl_init.c)

add_executable(fractol ${sources})


target_link_libraries(fractol ft mlx libcomp
        "-framework AppKit"
        "-framework OpenGL"
        "-framework OpenCL"
        )

#add_compile_options(-Wall -Wextra -Werror)
#add_compile_options(-o fractol)

#target_link_libraries(fractol ft mlx libcomp ${OPEN_GL} ${APP_KIT})